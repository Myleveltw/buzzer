<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>MOD ANSICHT</title>

<style>
body {
  margin: 0;
  background: #0f172a;
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
}

h1 {
  margin-top: 20px;
  font-size: 42px;
}

#unlockBtn {
  margin: 20px;
  padding: 16px 40px;
  font-size: 22px;
  border-radius: 30px;
  border: none;
  background: linear-gradient(135deg, #00ffcc, #0066ff);
  font-weight: bold;
  cursor: pointer;
}

#imageBox img {
  max-width: 90%;
  max-height: 60vh;
  border-radius: 20px;
  margin-top: 20px;
}

#buzzer {
  margin-top: 30px;
  font-size: 32px;
  font-weight: bold;
}
</style>
</head>

<body>

<h1>MOD</h1>

<button id="unlockBtn">ðŸ”Š Audio freigeben</button>

<div id="imageBox"></div>

<div id="buzzer"></div>

<audio id="showAudio" preload="auto"></audio>

<script>
const audio = document.getElementById("showAudio");
const unlockBtn = document.getElementById("unlockBtn");
const imageBox = document.getElementById("imageBox");

let audioUnlocked = false;

/* AUDIO FREIGEBEN */
unlockBtn.onclick = async () => {
  try {
    audio.src = "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3/";
    await audio.play();
    audio.pause();
    audio.currentTime = 0;
    audioUnlocked = true;
    unlockBtn.style.display = "none";
  } catch {
    alert("Nochmal tippen");
  }
};

/* AUDIO ABSPIELEN */
function playAudio(url) {
  if (!audioUnlocked) return;
  audio.pause();
  audio.currentTime = 0;
  audio.src = url;
  audio.load();
  audio.play();
}

/* AUDIO STOP */
function stopAudio() {
  audio.pause();
  audio.currentTime = 0;
}

/* BILD ZEIGEN */
function showImage(url) {
  imageBox.innerHTML = `<img src="${url}">`;
}

/* BILD AUS */
function hideImage() {
  imageBox.innerHTML = "";
}

/* === TEST BUTTONS (kannst du spÃ¤ter lÃ¶schen) === */
setTimeout(() => {
  showImage("https://picsum.photos/800/400");
}, 2000);

setTimeout(() => {
  playAudio("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3");
}, 4000);

setTimeout(() => {
  hideImage();
  stopAudio();
}, 10000);
</script>

</body>
</html>
